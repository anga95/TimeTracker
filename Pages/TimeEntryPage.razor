@page "/timeEntryPage"
@page "/"
@using TimeTracker.Pages.Components

<div class="row mb-4">
  <div class="col">
    <button class="btn btn-secondary me-2" @onclick="PrevMonth">« Föregående</button>
    <strong>@currentMonthName @_currentYear</strong>
    <button class="btn btn-secondary ms-2" @onclick="NextMonth">Nästa »</button>
  </div>
</div>

<!-- Kalendergrid -->
<CalendarGrid
  GridStart="_gridStart"
  TotalRows="_totalRows"
  CurrentMonth="_currentMonth"
  Today="_today"
  SelectedDay="_selectedDay"
  GetTotalHours="GetTotalHours"
  GetProjectSummary="GetProjectSummary"
  DayClicked="SelectDay" />


<!-- Detaljvy för vald dag -->
@if (_selectedDay != DateTime.MinValue)
{
  <DayDetail
    Day="_selectedDay"
    Items="_dayWorkItems"
    Projects="_projects"
    NewWorkItem="_newWorkItem"
    IsAuthenticated="!string.IsNullOrEmpty(_currentUserId)"
    OnAdd="HandleSubmit"
    OnDelete="Delete"
    OnCreateProject="HandleCreateProject"
    OnDeleteProject="HandleDeleteProject" />
}