@page "/timeEntryPage"
@page "/"
@using TimeTracker.Pages.Components

<!-- Kalendergrid -->
<CalendarGrid
  Year="_currentYear"
  Month="_currentMonth"
  @bind-SelectedDay="_selectedDay"
  OnMonthDataLoaded="HandleMonthDataLoaded"
  OnMonthChanged="HandleMonthChanged"
  @ref="_calendarGrid" />

<!-- Detaljvy för vald dag -->
@if (_selectedDay != DateTime.MinValue)
{
  <DayDetail
    Day="_selectedDay"
    Items="_dayWorkItems"
    Projects="_projects"
    @bind-WorkItem="_newWorkItem"
    IsAuthenticated="!string.IsNullOrEmpty(_currentUserId)"
    OnAdd="AddWorkItem"
    OnDelete="DeleteWorkItem"
    OnProjectsChanged="RefreshProjects" />
}