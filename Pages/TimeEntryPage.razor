@page "/timeEntryPage"
@page "/"
@using TimeTracker.Pages.Components

<div class="row mb-4">
  <div class="col">
    <button class="btn btn-secondary me-2" @onclick="PrevMonth">« Föregående</button>
    <strong>@currentMonthName @currentYear</strong>
    <button class="btn btn-secondary ms-2" @onclick="NextMonth">Nästa »</button>
  </div>
</div>

<!-- Kalendergrid -->
<CalendarGrid
  GridStart="gridStart"
  TotalRows="totalRows"
  CurrentMonth="currentMonth"
  Today="today"
  SelectedDay="selectedDay"
  GetTotalHours="GetTotalHours"
  GetProjectSummary="GetProjectSummary"
  DayClicked="SelectDay" />


<!-- Detaljvy för vald dag -->
@if (selectedDay != DateTime.MinValue)
{
  <DayDetail
    Day="selectedDay"
    Items="dayWorkItems"
    Projects="projects"
    NewWorkItem="newWorkItem"
    IsAuthenticated="!string.IsNullOrEmpty(currentUserId)"
    OnAdd="HandleSubmit"
    OnDelete="Delete" />
}